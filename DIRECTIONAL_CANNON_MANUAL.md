# 方向対応TNTキャノン 操作説明書

## 概要
このプログラムは、Minecraft Education Editionで東西南北の4方向に対応したTNTキャノンを自動建築するツールです。

## 必要な環境
- Minecraft Education Edition
- コードビルダー（MakeCode）
- 十分な建築スペース（最低15×15ブロック）

## コマンド一覧

### メインコマンド: `cannon`
4方向対応のTNTキャノンを建築します。

#### 使用方法
```
/cannon <数字>
```

#### 数字と方向の対応表
| 数字 | 方向 | 英語 | 発射方向 |
|------|------|------|----------|
| 1 | 北 | North | 北向きに発射 |
| 2 | 南 | South | 南向きに発射 |
| 3 | 東 | East | 東向きに発射 |
| 4 | 西 | West | 西向きに発射 |

#### コマンド例
```
/cannon 1    # 北向きのTNTキャノンを建築
/cannon 2    # 南向きのTNTキャノンを建築
/cannon 3    # 東向きのTNTキャノンを建築
/cannon 4    # 西向きのTNTキャノンを建築
```

### サブコマンド: `cannonSimple`
南向き固定のシンプルなTNTキャノンを建築します。

```
/cannonSimple
```

## 建築される構造

### 1. 土台（1層目）
- **サイズ**: 3×10ブロック
- **材質**: 丸石（COBBLESTONE）
- **高さ**: Y=0

### 2. キャノン本体（2層目〜）
- **U字型の壁**: 石ブロックで囲まれた発射台
- **TNT装填部**: 石のハーフブロック上にTNT配置
- **レッドストーン回路**: 自動で配線
- **リピーター**: 遅延4tickで設定
- **レバー**: 起動装置
- **水**: 爆発ダメージ軽減用

## 操作手順

### 1. 準備
1. 平らな場所を確保（最低15×15ブロック）
2. コードビルダーでプログラムを読み込み
3. チャット画面を開く（Tキー）

### 2. 建築
1. チャットで `/cannon <数字>` を入力
2. Enterキーで実行
3. 建築完了まで待つ（約10秒）

### 3. 発射
1. レバーの場所へ移動
2. レバーを右クリック
3. TNTが発射される

## 建築位置
- **開始座標**: (-1, 0, -10)
- **建築方向**: 指定した方向に向かって建築

## メッセージ表示

### 正常時
```
TNTキャノンを [方向] 向きで建築します
土台を作成中...
キャノン本体を建築中...
TNTキャノンの建築が完了しました！
レバーを引いて発射してください
```

### エラー時
```
使い方: cannon <数字>
1=北, 2=南, 3=東, 4=西
```

## トラブルシューティング

### Q: コマンドが動作しない
A: 以下を確認してください：
- コードビルダーでプログラムが実行されているか
- コマンドの綴りが正しいか
- 数字は1〜4の範囲内か

### Q: レバーを引いてもTNTが発射されない
A: レッドストーン回路を確認してください：
- リピーターの向きが正しいか
- レッドストーンワイヤーが切れていないか
- TNTが正しく配置されているか

### Q: 建築が途中で止まる
A: 以下の原因が考えられます：
- 建築スペースが不足している
- 障害物がある
- プログラムがタイムアウトした

### Q: 水が漏れている
A: 土台の3×10ブロックが正しく配置されているか確認してください。

## 注意事項

### 安全について
- TNT発射時は周囲に注意
- 建造物の近くでは使用しない
- 他のプレイヤーがいる場所では事前に警告

### 建築について
- 平らな場所で実行することを推奨
- 地下や狭い場所では正しく建築されない可能性あり
- 既存のブロックは上書きされる

### パフォーマンス
- 建築中は他の操作を控える
- ラグが発生する場合は少し待つ
- 複数同時実行は避ける

## カスタマイズ

### 変更可能な要素
- TNTの数（コード内で調整）
- 壁の高さ（コード内で調整）
- リピーターの遅延（1〜4tick）
- ブロックの種類

### コード構造
```typescript
buildPlatform()       // 土台作成
setBuilderDirection() // 方向設定
buildCannonBody()     // 本体建築
```

## 更新履歴
- v1.0: 初版リリース（南向きのみ）
- v2.0: 4方向対応版
- v2.1: リピーター向き修正

## 作成者
- Minecraft Education Edition サンプルプロジェクト
- Claude Code による自動生成

## ライセンス
教育目的での使用は自由です。

---

## 付録: 方向の覚え方

### 太陽の動き
- 東（3）: 太陽が昇る方向
- 西（4）: 太陽が沈む方向

### F3キーで確認
F3キーを押すと現在向いている方向が表示されます：
- Facing: north (Towards negative Z)
- Facing: south (Towards positive Z)
- Facing: east (Towards positive X)
- Facing: west (Towards negative X)